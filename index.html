<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Ch√∫c m·ª´ng sinh nh·∫≠t üéÇ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      font-family: 'Segoe UI', sans-serif;
    }
    body {
      background: linear-gradient(135deg, #f97fb1, #f6d365);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container {
      display: flex;
      align-items: center;
      gap: 30px;
      z-index: 9999;
    }
    .side-image {
      width: 250px;
      height: 250px;
      border-radius: 15px;
      background: url('https://sf-static.upanhlaylink.com/img/image_2025080359a5df7030e7079fd0b99fa7b5aa2d7a.jpg') center/cover;
      box-shadow: 0 0 10px rgba(2, 64, 236, 0.986);
    }
    .main-box {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    input[type="password"] {
      padding: 10px 15px;
      border-radius: 10px;
      border: none;
      width: 200px;
      font-size: 16px;
      text-align: center;
      margin-bottom: 15px;
    }
    .keypad {
      display: grid;
      grid-template-columns: repeat(3, 60px);
      gap: 10px;
    }
    .keypad button {
      width: 60px;
      height: 60px;
      font-size: 20px;
      border-radius: 15px;
      background: white;
      border: 2px solid hotpink;
      box-shadow: 0 2px 4px rgba(228, 7, 154, 0.815);
      cursor: pointer;
      transition: 0.2s;
    }
    .keypad button.ok {
      background-color: #00c17c;
      color: white;
      font-size: 24px;
    }
    .keypad button.cancel {
      background-color: #f44;
      color: white;
      font-size: 24px;
    }
    #notice {
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      color: #f106b7;
      padding: 16px 24px;
      border-radius: 16px;
      font-size: 18px;
      display: none;
      z-index: 9999;
      text-align: center;
      animation: fadeInOut 3s ease forwards;
      box-shadow: 0 10px 30px rgba(250, 5, 189, 0.932);
    }
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }
      15%, 85% { opacity: 1; }
      100% { opacity: 0; transform: translate(-50%, -60%) scale(1); }
    }

    @media (max-width: 600px) {
      .container {
        flex-direction: column;
        gap: 20px;
        padding: 20px;
      }
      .side-image {
        width: 180px;
        height: 180px;
      }
    }

    #rotateWarning {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.95);
      color: white;
      z-index: 99999;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      font-size: 22px;
      padding: 20px;
      flex-direction: column;
      display: none;
    }

    canvas {
      position: absolute;
      top: 0; left: 0;
    }
    #centerImage {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      width: 120px;
      height: 120px;
      clip-path: path("M 50 91 C 35 78, 20 65, 12 50 C 5 35, 10 20, 25 15 C 35 12, 45 20, 50 30 C 55 20, 65 12, 75 15 C 90 20, 95 35, 88 50 C 80 65, 65 78, 50 91 Z");
      box-shadow: 0 0 20px #ff80aa;
    }
  </style>
</head>
<body>
  <div class="container" id="loginBox">
    <div class="side-image"></div>
    <div class="main-box">
      <input type="password" id="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u ƒëi baby üòä" disabled />
      <div class="keypad">
        <button onclick="addDigit('1')">1</button>
        <button onclick="addDigit('2')">2</button>
        <button onclick="addDigit('3')">3</button>
        <button onclick="addDigit('4')">4</button>
        <button onclick="addDigit('5')">5</button>
        <button onclick="addDigit('6')">6</button>
        <button onclick="addDigit('7')">7</button>
        <button onclick="addDigit('8')">8</button>
        <button onclick="addDigit('9')">9</button>
        <button class="cancel" onclick="clearPassword()">‚úï</button>
        <button onclick="addDigit('0')">0</button>
        <button class="ok" onclick="checkPassword()">‚úì</button>
      </div>
    </div>
  </div>

   <div id="notice"></div>
  <div id="rotateWarning">Xoay ngang ƒëi·ªán tho·∫°i ƒë·ªÉ xem </div>

  <canvas id="matrixCanvas" style="display: none;"></canvas>
  <canvas id="dotCanvas" style="display: none;"></canvas>
  <canvas id="pinkboard" style="display: none;"></canvas>
<div id="centerImage" style="
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9999;
  width: 100px;
  height: 100px;
  clip-path: path('M50 91C35 78,20 65,12 50,5 35,10 20,25 15,35 12,45 20,50 30,55 20,65 12,75 15,90 20,95 35,88 50,80 65,65 78,50 91Z');
  background-image: url('https://sf-static.upanhlaylink.com/img/image_2025080359a5df7030e7079fd0b99fa7b5aa2d7a.jpg');
  background-size: cover;
  background-position: center;
  box-shadow: 0 0 30px #ff80aa;
">
</div>


  <!-- TO√ÄN B·ªò SCRIPT -->
<script>
  const input = document.getElementById("password");
  let currentPassword = "";

  function addDigit(d) {
    if (currentPassword.length < 12) {
      currentPassword += d;
      input.value = "*".repeat(currentPassword.length);
    }
  }

  function clearPassword() {
    currentPassword = "";
    input.value = "";
  }

  function showNotice(text, color = "white") {
    const notice = document.getElementById("notice");
    notice.textContent = text;
    notice.style.color = color;
    notice.style.display = "block";
    notice.style.animation = "none";
    void notice.offsetWidth;
    notice.style.animation = "fadeInOut 2.5s ease forwards";
    setTimeout(() => notice.style.display = "none", 2500);
  }

  function checkPassword() {
    const correct = "1310";
    if (currentPassword === correct) {
      showNotice("‚úÖ Ch√≠nh x√°c r·ªìi! ƒê·ª£i t√≠...", "#00ff88");
      setTimeout(() => startBirthday(), 1500);
    } else {
      showNotice("‚ùå Sai m·∫≠t kh·∫©u r·ªìi üò¢!", "#ff5e5e");
      clearPassword();
    }
  }

  function startBirthday() {
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("matrixCanvas").style.display = "block";
    document.getElementById("dotCanvas").style.display = "block";
    document.getElementById("pinkboard").style.display = "block";
    animateBirthday();
  }

  function checkOrientation() {
    const warning = document.getElementById("rotateWarning");
    if (window.innerHeight > window.innerWidth) {
      warning.style.display = "flex";
    } else {
      warning.style.display = "none";
    }
  }

  window.addEventListener("load", checkOrientation);
  window.addEventListener("resize", checkOrientation);
</script>

  <!-- üéâ Ch√®n t·∫•t c·∫£ hi·ªáu ·ª©ng t·ª´ file sinh nh·∫≠t c·ªßa b·∫°n ·ªü ƒë√¢y -->
  <script>
    // ƒê·∫∑t to√†n b·ªô ph·∫ßn Dot Morph, Matrix, Heart bay... v√†o b√™n trong h√†m animateBirthday()
    function animateBirthday() {
<!-- üíñ Matrix ch·ªØ r∆°i t·ª´ng d√≤ng m·ªói 0.5s -->

const canvas = document.getElementById("matrixCanvas");
const matrixCtx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const fontSize = 15;
const phrases = [
  "HAPPYBIRTHDAY", "HAPPYBIRTHDAY", "HAPPYBIRTHDAY", "HAPPYBIRTHDAY"
];
const spacingY = 70;
const slotWidth = 70; // kho·∫£ng c√°ch ngang ƒë·ªÅu (slot)
class VerticalText {
  constructor() {
    this.reset();
  }

  reset() {
    this.text = phrases[Math.floor(Math.random() * phrases.length)];
    this.x = Math.random() * canvas.width;
    this.y = -this.text.length * fontSize - Math.random() * 100;
    this.speed = Math.random() * 6.5 + 4.5;
  }

  update() {
    this.y += this.speed;
    if (this.y > canvas.height + this.text.length * fontSize) {
      this.reset();
    }
  }

  draw(ctx) {
    ctx.fillStyle = "#ff69b4";
    ctx.font = `${fontSize}px monospace`;
    for (let i = 0; i < this.text.length; i++) {
      ctx.fillText(this.text.charAt(i), this.x, this.y + i * fontSize);
    }
  }
}
const recentSlots = new Set();
const lines = Array.from({ length: 80 }, () => new VerticalText());

// ‚è± Th√™m 1 d√≤ng m·ªói 0.5 gi√¢y
setInterval(() => {
  if (lines.length < 250) {
    lines.push(new VerticalText());
  }
}, 30);

function draw() {
  matrixCtx.fillStyle = "black";
  matrixCtx.fillRect(0, 0, canvas.width, canvas.height);

  lines.forEach(line => {
    line.update();
    line.draw(matrixCtx);
  });

  requestAnimationFrame(draw);
}

draw();

window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

const dotCanvas = document.getElementById("dotCanvas");
const ctx = dotCanvas.getContext("2d");
dotCanvas.width = window.innerWidth;
dotCanvas.height = window.innerHeight;

const spacing = 3;
const radius = 1;
let dots = [];
const texts = ["3", "2", "1", "HAPPY", "BIRTHDAY", "13-10-2025", "16+", "HAPPY 16+"];
let currentIndex = 0;
let exploded = false;
let finished = false;

const offCanvas = document.createElement("canvas");
const offCtx = offCanvas.getContext("2d");
offCanvas.width = dotCanvas.width;
offCanvas.height = dotCanvas.height;

function getPointsFromText(text) {
  offCtx.clearRect(0, 0, offCanvas.width, offCanvas.height);
  offCtx.font = "bold 160px Arial";
  offCtx.textAlign = "center";
  offCtx.textBaseline = "middle";
  offCtx.fillStyle = "white";
  const centerX = offCanvas.width / 2;
  const centerY = offCanvas.height / 2;
  offCtx.fillText(text, centerX, centerY);
  const imgData = offCtx.getImageData(0, 0, offCanvas.width, offCanvas.height).data;
  const points = [];
  for (let y = 0; y < offCanvas.height; y += spacing) {
    for (let x = 0; x < offCanvas.width; x += spacing) {
      const i = (y * offCanvas.width + x) * 4;
      if (imgData[i + 3] > 128) points.push({ x, y });
    }
  }
  return points;
}

function initDots(num) {
  dots = [];
  for (let i = 0; i < num; i++) {
    dots.push({
      x: Math.random() * dotCanvas.width,
      y: Math.random() * dotCanvas.height,
      tx: 0, ty: 0,
      vx: 0, vy: 0
    });
  }
}

function updateTarget(text) {
  const points = getPointsFromText(text);
  if (dots.length < points.length) {
    const extra = points.length - dots.length;
    for (let i = 0; i < extra; i++) {
      dots.push({
        x: Math.random() * dotCanvas.width,
        y: Math.random() * dotCanvas.height,
        tx: 0, ty: 0,
        vx: 0, vy: 0
      });
    }
  } else if (dots.length > points.length) {
    dots = dots.slice(0, points.length);
  }
  for (let i = 0; i < points.length; i++) {
    dots[i].tx = points[i].x;
    dots[i].ty = points[i].y;
  }
}

function animateDots() {
  ctx.clearRect(0, 0, dotCanvas.width, dotCanvas.height);
  let allOut = true;
  for (let i = 0; i < dots.length; i++) {
    const dot = dots[i];
    if (!exploded) {
      const dx = dot.tx - dot.x;
      const dy = dot.ty - dot.y;
      dot.vx += dx * 0.1;
      dot.vy += dy * 0.1;
      dot.vx *= 0.7;
      dot.vy *= 0.7;
    }
    dot.x += dot.vx;
    dot.y += dot.vy;

    if (
      dot.x >= 0 && dot.x <= dotCanvas.width &&
      dot.y >= 0 && dot.y <= dotCanvas.height
    ) {
      allOut = false;
    }

    ctx.beginPath();
    ctx.arc(dot.x, dot.y, radius, 0, Math.PI * 2);
    ctx.fillStyle = "white";
    ctx.fill();
  }

  if (exploded && allOut && finished) {
    ctx.clearRect(0, 0, dotCanvas.width, dotCanvas.height);
    document.getElementById("dotCanvas").style.display = "none";
  } else {
    requestAnimationFrame(animateDots);
  }
}

function explodeDots() {
  if (currentIndex >= texts.length - 1) {
    finished = true;
    exploded = true;
    dots.forEach(dot => {
      const angle = Math.random() * Math.PI * 2;
      const speed = Math.random() * 5 + 2;
      dot.vx = Math.cos(angle) * speed;
      dot.vy = Math.sin(angle) * speed;
    });
    startHeart();
    return;
  }

  exploded = true;
  dots.forEach(dot => {
    const angle = Math.random() * Math.PI * 2;
    const speed = Math.random() * 10 + 3;
    dot.vx = Math.cos(angle) * speed;
    dot.vy = Math.sin(angle) * speed;
  });

  setTimeout(() => {
    currentIndex++;
    updateTarget(texts[currentIndex]);
    exploded = false;
  }, 900);
}

initDots(1200);
updateTarget(texts[currentIndex]);
animateDots();

let interval = setInterval(() => {
  if (!finished) {
    explodeDots();
  } else {
    clearInterval(interval);
  }
}, 3000);

    // TR√ÅI TIM BAY (1 phi√™n b·∫£n duy nh·∫•t t·ªëi ∆∞u)
    function startHeart() {
      const canvas = document.getElementById("pinkboard");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
document.getElementById("centerImage").style.display = "block";
      const settings = {
        particles: {
          length: 500,
          duration: 2,
          velocity: 100,
          effect: -0.75,
          size: 30,
        },
      };

      const Point = function (x = 0, y = 0) {
        this.x = x;
        this.y = y;
      };
      Point.prototype.length = function () {
        return Math.sqrt(this.x * this.x + this.y * this.y);
      };
      Point.prototype.normalize = function () {
        const l = this.length();
        this.x /= l;
        this.y /= l;
        return this;
      };
      Point.prototype.clone = function () {
        return new Point(this.x, this.y);
      };
      Point.prototype.scale = function (value) {
        this.normalize();
        this.x *= value;
        this.y *= value;
        return this;
      };

      const Particle = function () {
        this.position = new Point();
        this.velocity = new Point();
        this.acceleration = new Point();
        this.age = 0;
      };
      Particle.prototype.initialize = function (x, y, dx, dy) {
        this.position.x = x;
        this.position.y = y;
        this.velocity.x = dx;
        this.velocity.y = dy;
        this.acceleration.x = dx * settings.particles.effect;
        this.acceleration.y = dy * settings.particles.effect;
        this.age = 0;
      };
      Particle.prototype.update = function (delta) {
        this.position.x += this.velocity.x * delta;
        this.position.y += this.velocity.y * delta;
        this.velocity.x += this.acceleration.x * delta;
        this.velocity.y += this.acceleration.y * delta;
        this.age += delta;
      };
      Particle.prototype.draw = function (ctx, image) {
        function ease(t) {
          return --t * t * t + 1;
        }
        const size = image.width * ease(this.age / settings.particles.duration);
        ctx.globalAlpha = 1 - this.age / settings.particles.duration;
        ctx.drawImage(
          image,
          this.position.x - size / 2,
          this.position.y - size / 2,
          size,
          size
        );
      };

      const ParticlePool = function (length) {
        this.particles = new Array(length);
        this.firstActive = 0;
        this.firstFree = 0;
        this.duration = settings.particles.duration;

        for (let i = 0; i < this.particles.length; i++) {
          this.particles[i] = new Particle();
        }
      };
      ParticlePool.prototype.add = function (x, y, dx, dy) {
        this.particles[this.firstFree].initialize(x, y, dx, dy);
        this.firstFree++;
        if (this.firstFree === this.particles.length) this.firstFree = 0;
        if (this.firstActive === this.firstFree) {
          this.firstActive++;
          if (this.firstActive === this.particles.length) this.firstActive = 0;
        }
      };
      ParticlePool.prototype.update = function (deltaTime) {
        let i;
        if (this.firstActive < this.firstFree) {
          for (i = this.firstActive; i < this.firstFree; i++) {
            this.particles[i].update(deltaTime);
          }
        }
        if (this.firstFree < this.firstActive) {
          for (i = this.firstActive; i < this.particles.length; i++) {
            this.particles[i].update(deltaTime);
          }
          for (i = 0; i < this.firstFree; i++) {
            this.particles[i].update(deltaTime);
          }
        }
        while (
          this.particles[this.firstActive].age >= this.duration &&
          this.firstActive !== this.firstFree
        ) {
          this.firstActive++;
          if (this.firstActive === this.particles.length) this.firstActive = 0;
        }
      };
      ParticlePool.prototype.draw = function (ctx, image) {
        let i;
        if (this.firstActive < this.firstFree) {
          for (i = this.firstActive; i < this.firstFree; i++) {
            this.particles[i].draw(ctx, image);
          }
        }
        if (this.firstFree < this.firstActive) {
          for (i = this.firstActive; i < this.particles.length; i++) {
            this.particles[i].draw(ctx, image);
          }
          for (i = 0; i < this.firstFree; i++) {
            this.particles[i].draw(ctx, image);
          }
        }
      };

const scale = 0.7;
function pointOnHeart(t) {
  return new Point(
    scale * 160 * Math.pow(Math.sin(t), 3),
    scale * (130 * Math.cos(t) - 50 * Math.cos(2 * t) - 20 * Math.cos(3 * t) - 10 * Math.cos(4 * t)) + 25 * scale
  );
}


      const heartImage = (() => {
        const c = document.createElement("canvas");
        const cctx = c.getContext("2d");
        c.width = settings.particles.size;
        c.height = settings.particles.size;

        const to = t => {
          const p = pointOnHeart(t);
          p.x = settings.particles.size / 2 + (p.x * settings.particles.size) / 350;
          p.y = settings.particles.size / 2 - (p.y * settings.particles.size) / 350;
          return p;
        };

        cctx.beginPath();
        let t = -Math.PI;
        let p = to(t);
        cctx.moveTo(p.x, p.y);
        while (t < Math.PI) {
          t += 0.01;
          p = to(t);
          cctx.lineTo(p.x, p.y);
        }
        cctx.closePath();
        cctx.fillStyle = "#ff80aa";
        cctx.fill();

        const img = new Image();
        img.src = c.toDataURL();
        return img;
      })();

      const particles = new ParticlePool(settings.particles.length);
      const particleRate = settings.particles.length / settings.particles.duration;
      let time;
      function render() {
        requestAnimationFrame(render);
        const newTime = Date.now() / 1000;
        const deltaTime = newTime - (time || newTime);
        time = newTime;

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        for (let i = 0; i < particleRate * deltaTime; i++) {
          const pos = pointOnHeart(Math.PI - 2 * Math.PI * Math.random());
          const dir = pos.clone().scale(settings.particles.velocity);
          particles.add(canvas.width / 2 + pos.x, canvas.height / 2 - pos.y, dir.x, -dir.y);
        }

        particles.update(deltaTime);
        particles.draw(ctx, heartImage);
      }

      setTimeout(() => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        render();
      }, 100);
    }
    // Reload delay khi resize
    let resizeTimeout;
    window.addEventListener("resize", () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => location.reload(), 500);
    });
  

    }
  </script>
</body>
</html>
